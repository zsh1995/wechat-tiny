<import src="../template/template.wxml" />
<view class='mask' style='display:{{!showLeaderMask?"none":""}}'>
  <view class='mask-content'>
    <view style="opacity:{{steps >= 0 ? 1:0}};"class='enroll-lead' bindtap='nextEnrollTips'>
      <view>
        <rich-text nodes='{{nodes[steps]}}'></rich-text>
      </view>
    </view>
    <view id='enroll-lead-choose-txt' style="opacity:{{steps != 1 ? 0:1}};top:{{chooselist.top - 36}}px;width:{{chooselist.width-34}}px;padding:0 17px;">
      <view>非常支持</view>
      <view>→</view>
      <view>中立/不必讨论</view>
      <view>→</view>
      <view>非常反对</view>
    </view>
    <view id='enroll-lead-choose' style="border-width:{{chooselist.top}}px 1000px 0 1000px;width:0px;height:{{chooselist.height}}px;"></view>
    <view class='{{steps>0?"enroll-lead-tips-move":"enroll-lead-tips"}}' style="top:{{chooselist.top+chooselist.height}}px;border-width: {{steps != 1 ? bottomtips.height/2+2:bottomtips.height*0.325 + 2}}px {{steps != 1?750:0.3*750+3}}rpx;width:{{steps != 1?0:0.4*750}}rpx;height:{{steps != 1?0:bottomtips.height*0.35}}px;"></view>
  </view>
</view>
<upper-slider style='display:none' u-position='top' id='topUs'>
  <view class='up-top font-32'>
    <view wx:for="{{enrollTips}}">
      <text class='font-bold'>{{item.title}}</text>
      <text>{{item.content}}</text>
    </view>
  </view>
</upper-slider>
<view class='top-tips'>
  <text>与朋友交流，达成共识， 知其所以然！</text>
</view>
<view class='swiper-lists' bindtouchend='touchEnd' bindtouchstart='setEvent' bindtap="touchViewStart" bindtouchmove='onmove'>
  <view class="count">
    <view wx:for="{{chooseList}}" wx:for-item="chooseItem">
      <view wx:if="{{chooseItem != -1}}">
        <view class="success"></view>
      </view>
      <view wx:if="{{chooseItem == -1}}">
        <view class="error"></view>
      </view>
    </view>
  </view>

  <upper-slider u-position='bottom' id='us'>
    <view style='padding:20rpx 32rpx 20rpx 32rpx;'>
      <view style='margin: 20rpx 55rpx 20rpx 55rpx;'>
        <text class="">{{answers.allLists[currentPage].tips||answers.allLists[currentPage].tip}}</text>
      </view>
      <view wx:if="{{type !='exam' && answers.allLists[currentPage].analyse!=null && answers.allLists[currentPage].analyse != '' && type !='enroll'}}" class="tips" bindtap="bindAnalyse" style="color:{{answers.allLists[currentPage].isPurchAnalyse > 0 ? '#00C775':'#aaa'}};border-color:{{answers.allLists[currentPage].isPurchAnalyse > 0 ? '#00C775':'#aaa'}}">
        <view>解析</view>
      </view>
    </view>
  </upper-slider>


  <swipper-page id='swipper-page' page-nums='6'>
    <block wx:for="{{answers.allLists}}" wx:for-item="listItem" wx:for-index="idx" wx:key='index'>
      <view slot='{{idx}}'>
        <template is="exam-question" data="{{listItem,selectdata,animationDisap,toView,idx,showPullTips}}" />
      </view>
    </block>
  </swipper-page>




  <view class="footer">

    <view style="position:absolute;bottom:0;width:100%">

      <view class="container" hidden="{{false}}" id='choose-list'>
        <view wx:for="{{[1,2,3,4,5]}}" wx:for-index="idx">
          <view wx:if="{{false}}" class="list" style="background:{{item.color}}" data-option="{{idx}}" catchtap="tapCheckbox"></view>
          <view hidden="{{selectdata.selectedId!=-1 && isSelect}}" class="list {{clickItem[idx]}}-item" data-option="{{idx}}" catchtap="tapCheckbox">
          </view>
        </view>
        <button class="gsy-default-button" hidden="{{selectdata.selectedId==-1 || !isSelect}}" style="margin:0 40rpx;box-shadow:{{ selectdata.selectedId == idx && isSelect? '0 0 10rpx'+item.color : ''}};border-color:{{answers.allLists[0].options[selectdata.selectedId].borderColor||answers.allLists[0].options[selectdata.selectedId].color}};background:{{answers.allLists[0].options[selectdata.selectedId].color}};color:{{answers.allLists[0].options[selectdata.selectedId].font}}">
          <text class='font-36 font-bold'>已选择：{{answers.allLists[0].options[selectdata.selectedId].text}}</text>
        </button>
      </view>
      <view class='tip-tip' id='bottom-tips'>
        <text>屏幕上滑查看提示或解析</text>
        <view style='display:none;'>
          <text>对话题有疑问？</text>
          <text style='text-decoration:underline'>看不懂</text>
          <text style='text-decoration:underline;margin-left:32rpx'>没兴趣</text>
        </view>
      </view>
    </view>

  </view>

</view>